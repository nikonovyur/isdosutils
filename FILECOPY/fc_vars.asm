       .GLOB CRLVL, FNLVL, SREDA, BLKSM, FDSTT       .GLOB FDCUR, FDNXT, FDEND, BLKRD, BLKWR       .GLOB FDWRI, BUFSIZ, BUFBLK, FSTBLK, LSTBLK       .GLOB FSTBL1, LSTBL1, CURSBL, CURDBL, FSTFLG       .GLOB FRDFLG, DEPB25, PGWRI, PGRDR, PGLST, PGFRE       .GLOB UFFLG, PFULG, SVLEN, MRKFLS, CPMMF       .GLOB OVPAS, SPSND       .GLOB DESTWN, DSTTXT, SRCTXT, DSTXLN, DSKLET, DSTFLG       .GLOB L62FC, L62FD, L6036, L64BC, L64FD, L60DD       .GLOB L60B0, L6020, L6023, L60BE       .GLOB L636E, L6161, L6094, L639E       .GLOB ADDSR, ADDDSMRKFLS DEFW #0000        ; число отмеченных файловCPMMF  DEFB #01          ; текущий номер отмеченного файлаOVPAS  DEFB #00          ; флаг записи/пропуска файла 1-пропускCRLVL  DEFW #0000        ; уровень вложенности каталогаFNLVL  DEFS 9            ; номера файлов на разных уровнях вложенностиSREDA  DEFS 4            ; сохранённая средаBLKSM  DEFW #0000        ; подсчитанный объём блоков для копированияBLKRD  DEFW #0000        ; блоков прочитаноBLKWR  DEFW #0000        ; блоков записаноFDSTT  DEFW #0000        ; начало массива с дескрипторами (L6575)FDCUR  DEFW #0000        ; адрес текущего файлового дескриптора в массивеFDNXT  DEFW #0000        ; адрес следующего дескриптора в массивеFDEND  DEFW #0000        ; адрес начала буфера для копированияFDWRI  DEFW #0000        ; адрес текущего записываемого дескриптораBUFSIZ DEFB #00          ; буфер, используемый для копирования. Например, уменьшаем до 16к (размер банки)BUFBLK DEFB #00          ; количество свободных блоков в буфере памятиFSTBLK DEFW #0000        ; количество прочитанных блоков первого файла в массивеLSTBLK DEFW #0000        ; количество прочитанных блоков последнего файла в массивеFSTBL1 DEFW #0000        ; номер блока, с какого продолжать копировать файл после переключения страницы буфераLSTBL1 DEFW #0000        ; смещение докуда был записан последний файлCURSBL DEFW #0000        ; 0-й блок текущего исходного каталогаCURDBL DEFW #0000        ; 0-й блок текущего приёмного каталогаFSTFLG DEFB #00          ; флаг первого дескриптора в массивеFRDFLG DEFB #00          ; поднимаем этот флаг после переключения страницы буфера. Первый файл.DEPB25 DEFB #00          ; байт 25, показывает, на сколько уровней вернутьсяSPSND  DEFW #0000        ; храним регистр SP на случаи выхода из подпрограмм любой глубиныPGWRI  DEFW #0000        ; смещение текущей страницы при записиPGRDR  DEFW #0000        ; смещение страницы при чтенииPGLST  DEFB #11,#13,#14,#16,#17,#00 ; список значений порта для смены страницPGFRE  DEFB #00          ; свободное количество блоков в текущей страницеUFFLG  DEFB #00          ; флаг неполной записи текущего файлаPFULG  DEFB #00          ; флаг обмена последнего буфера и первой страницыSVLEN  DEFW #0000        ; промежуточное хранение длины больших файловL62FC  DEFB #00          ; номер диска откуда копируемL62FD  DEFB #00          ; номер диска куда копируемL6036  DEFW #0000        ; номер 0-го блока текущего каталога источникаL64BC  DEFB #00          ; количество блоков в буфере в оперативной памятиL64FD  DEFW #0000        ; адрес начала буфера в памятиL60DD  DEFW #0000        ; номер файла, на котором стоит курсорL60B0  DEFW #0000        ; адрес очередного дескриптора в массивеL6020  DEFW #0000        ; адрес 0-го блока целевого каталогаL6023  DEFW #0000        ; адрес тела каналаL60BE  DEFB #00          ; биты конфигурации MCS 0-M, 1-C, 2-SL636E  DEFB #00          ; количество файлов в текущем каталоге; окно "вставьте диск источник/приёмник"DESTWN       DEFB 9       DEFB 11       DEFB 7       DEFB 15ADDSRADDDS       DEFB %00100000       DEFB %00000001       DEFB 13       DEFB 18       DEFM "╔═ В дисковод   ═╗"       DEFM "║ вставьте диск  ║"       DEFM "║                ║"       DEFM "║ [Enter] [SS/A] ║"       DEFM "╚════════════════╝"       DEFB #03DSTTXT       DEFM " ПРИёМНИК "SRCTXT       DEFM " ИСТОЧНИК "DSTXLN EQU  $ - SRCTXTDSKLET DEFM "  :"DSTFLG DEFB #00